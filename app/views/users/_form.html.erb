<%= render 'shared/errors', obj: @user %>

<div class="row">
  <div class="col-xs-12 col-md-12">
    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
    	
      <%= form_for(@user, :html => {role: "form"}) do |el| %>
        <div class="panel panel-default">
          <div class="panel-heading" role="tab">
            <h4 class="panel-title">
              <a data-toggle="none" data-parent="#accordion" aria-expanded="true" aria-controls="collapseOne">
                <span class="fa fa-id-card panel-form-icon"></span>Datos Básicos
              </a>
            </h4>
          </div>
          <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel">
            <div class="panel-body">
              <div class="row">
                <% if current_user.is_admin? %>
                  <div class="col-xs-3 col-md-3">
                    <label> Administrador </label>
                    <div class="col-xs-9 material-switch pull-left label-padding">
                      <%= el.check_box :is_admin, id: :is_admin, class: 'form-control form-style' %>
                      <label for="is_admin" class="label-primary"></label>
                    </div>
                  </div>
                <% end %>
              </div>
              <div class="spacer-20"></div>
              <div class="row">
                <div class="col-xs-3 col-md-3">
                  <label> Usuario</label>
                  <div class="form-group">
                    <%= el.text_field :username, class: "form-control form-style", autofocus: true %>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-xs-3 col-md-3">
                  <label> Nombre </label>
                  <div class="form-group">
                    <%= el.text_field :firstname, class: "form-control form-style" %>
                  </div>
                </div>
                <div class="col-xs-3 col-md-3">
                  <label> Apellidos </label>
                  <div class="form-group">
                    <%= el.text_field :lastname, class: "form-control form-style" %>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-xs-3 col-md-3">
                  <label> Email </label>
                  <div class="form-group">
                    <%= el.text_field :email, class: "form-control form-style" %>
                  </div>
                </div>
                <div class="col-xs-3 col-md-3">
                  <label> Contraseña </label>
                  <div class="form-group">
                    <%= el.password_field :password, class: "form-control form-style", placeholder: "#{@user.new_record? ? '' : '**********'}" %>
                  </div>
                </div>
              </div>
              
              <%= hidden_field_tag 'user_account', user_account %>    
              
              <div class="spacer-50"></div>
              <div class="row">
                <div class="col-xs-12 col-md-12 col-lg-12">
                  <div class="well well-sm well-primary">
                    <div class="col-xs-offset-10 col-md-offset-10 col-lg-offset-10 form-well">
                      <%= button_tag(:class => "btn btn-primary btn-sm btn-form field-values-submit-btn") do %>
                        <em class="glyphicon glyphicon-floppy-disk"></em> Guardar 
                      <% end %>
                      <% if !user_account %>
                        <%= link_to users_path, class: "btn btn-primary btn-sm btn-form" do %>
                          <em class="fa fa-undo"></em> Atrás 
                        <% end %>
                      <% end %>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
        </div>
      <% end %>

    </div>
  </div>
</div>